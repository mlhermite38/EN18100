<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Interactive memo — EN 18100:2025</title>

  <!-- Tailwind CDN for quick styling (OK for prototype/demo) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* Small extra tweaks to match Petzl-ish accent quickly */
    :root { --petzl-orange: #f37b00; }
    .petzl-accent { background-color: var(--petzl-orange); color: white; }
    /* Make modal scrollable on small screens */
    .modal-inner { max-height: 80vh; overflow:auto; }
  </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100">

  <div id="root"></div>

  <!-- React (UMD) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel standalone to transpile JSX in the browser (for prototyping only) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- App: JSX compiled by Babel in-browser -->
  <script type="text/babel">
    const { useState } = React;

    function TestCard({ title, excerpt, onOpen }) {
      return (
        <div className="p-4 border rounded-lg hover:shadow-md transition">
          <h4 className="font-semibold">{title}</h4>
          <p className="text-sm mt-2">{excerpt}</p>
          <div className="mt-3 flex gap-2">
            <button onClick={onOpen} className="px-3 py-1 rounded bg-orange-500 text-white text-sm">Open figure</button>
            <button onClick={() => alert('Open test procedure (link to clause in full memo)')} className="px-3 py-1 rounded border text-sm">Open procedure</button>
          </div>
        </div>
      );
    }

    function InteractiveMemo() {
      const [dark, setDark] = useState(true);
      const [activeModal, setActiveModal] = useState(null);
      const [expanded, setExpanded] = useState({});

      const images = {
        fig1: 'images/fig1_helmet_positioning_index.png',
        fig2: 'images/fig2_impact_points.png',
        fig3: 'images/fig3_test_area.png',
        fig4: 'images/fig4_penetration_test_block.png',
        fig5: 'images/fig5_retention_test_apparatus.png',
      };

      const toggleExpand = (k) => setExpanded((e) => ({ ...e, [k]: !e[k] }));

      return (
        <div className={dark ? "dark" : ""}>
          <div className="min-h-screen bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors">
            <header className="flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-800">
              <div className="flex items-center gap-4">
                <div className="rounded p-2 petzl-accent font-bold">Petzl</div>
                <h1 className="text-xl font-semibold">Interactive memo — FprEN 18100:2025 (Helmets for ski mountaineers)</h1>
              </div>
              <div className="flex items-center gap-4">
                <button
                  onClick={() => setDark(!dark)}
                  className="px-3 py-1 rounded-md border dark:border-gray-700"
                >
                  {dark ? "Dark" : "Light"}
                </button>
                <a href="#guide" className="text-sm opacity-80">Quick guide</a>
              </div>
            </header>

            <main className="p-6 max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-4 gap-6">
              <nav className="lg:col-span-1 sticky top-6 self-start">
                <div className="bg-gray-50 dark:bg-gray-800 rounded-lg p-4 shadow-sm">
                  <h2 className="font-semibold mb-2">Sections</h2>
                  <ul className="space-y-2 text-sm">
                    <li><a href="#intro" className="block hover:underline">Intro & Scope</a></li>
                    <li><a href="#terms" className="block hover:underline">Terms & Figures</a></li>
                    <li><a href="#construction" className="block hover:underline">Design & Construction</a></li>
                    <li><a href="#performance" className="block hover:underline">Performance requirements</a></li>
                    <li><a href="#methods" className="block hover:underline">Test methods (interactive)</a></li>
                    <li><a href="#marking" className="block hover:underline">Marking & Info</a></li>
                    <li><a href="#annexa" className="block hover:underline">Annex A (thermal)</a></li>
                  </ul>
                </div>

                <div className="mt-4 bg-white dark:bg-gray-900 rounded-lg p-4 border border-dashed border-gray-200 dark:border-gray-800 text-sm">
                  <strong>Images</strong>
                  <p className="mt-2 text-xs">Place the standard figures in <code>/images/</code> with these names:</p>
                  <ul className="text-xs mt-2 space-y-1">
                    <li>fig1_helmet_positioning_index.png</li>
                    <li>fig2_impact_points.png</li>
                    <li>fig3_test_area.png</li>
                    <li>fig4_penetration_test_block.png</li>
                    <li>fig5_retention_test_apparatus.png</li>
                  </ul>
                </div>
              </nav>

              <section id="content" className="lg:col-span-3 space-y-6">
                <section id="intro" className="bg-white dark:bg-gray-800 rounded-lg p-6 shadow">
                  <h2 className="text-2xl font-semibold mb-2">In
